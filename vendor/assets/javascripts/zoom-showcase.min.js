(function(m){function r(b){m(this).data("image").fadeTo(250,1)}function s(b){b=m(this);b.data("image").stop(!0,!0).fadeTo(250,b.data("sideOpacity"))}function H(b){b=m(this);"_parent"===b.data("target")?window.location=b.data("link"):window.open(b.data("link"))}var I="ontouchend"in document;m.fn.zoomShowcase=function(b){return this.each(function(){function E(){if(3<J){var b,c,e,k,l,d,g,h,t=J,p=[],s=[],r=[],n;C=K.find(".preloader");C.length&&C.css({left:V-(0.5*parseInt(C.attr("width"),10)|0),top:W- (0.5*parseInt(C.attr("height"),10)|0),display:"block"});K.css("height",D+20);K.find("ul").css("display","block");fa.each(function(a){n=m(this);p[a]=n.css({position:"absolute",backgroundColor:"#000"}).data({sideOpacity:M,target:ra}).hide();b=m("<img />").css({position:"absolute",top:0,left:0}).load(L).appendTo(m(this));s[a]=b;n.data("image",b);ul=n.find("ul");ul.length?(ul.attr("title")&&n.data("link",ul.attr("title")),ul.attr("class")?(d=ul.attr("class").toLowerCase(),-1!==d.search("-")?d=d.split("-")[1]: d="left"):d="left"):d="left";c=n.find("li");var f;c.length?(e=[],g=[],h=[],c.each(function(a){f=m(this);""!==m.trim(c.html())?f.attr("class")?(l=f.attr("class").toLowerCase(),-1!==l.search("x")?(k=f.attr("class").split("x"),e[a]=f.html(),g[a]={x:parseInt(k[0],10),y:parseInt(k[1],10)},h[a]={color:f.css("color"),backgroundColor:f.css("background-color")}):(e[a]=0,g[a]=0,h[a]=0)):(e[a]=0,g[a]=0,h[a]=0):(e[a]=0,g[a]=0,h[a]=0)}),r[a]={content:e,position:g,style:h,align:d}):r[a]=0;ul.empty()});if(sa){var q= [],v=[],w=[],f,u;for(f=0;f<J;f++)q[f]=p[f],v[f]=s[f],w[f]=r[f];for(;0<q.length;)f=Math.random()*q.length|0,u=a.length,a[u]=q[f],x[u]=v[f],R[u]=w[f],q.splice(f,1),v.splice(f,1),w.splice(f,1)}else a=p,x=s,R=r;for(;t--;){switch(t){case 0:a[t].css({left:N,top:0,width:z,height:D,zIndex:3});x[t].attr("width",z).attr("height",D);break;case 1:a[t].css({left:ga,top:S,width:A,height:B,zIndex:1});x[t].css("opacity",M).attr("width",A).attr("height",B);break;case y:a[t].css({left:0,top:S,width:A,height:B,zIndex:2}); x[t].css("opacity",M).attr("width",A).attr("height",B);break;default:a[t].css({left:ha,top:ia,width:O,height:P,xIndex:0}),x[t].attr("width",O).attr("height",P)}x[t].attr("src",a[t].attr("title"));a[t].removeAttr("title")}}}function L(c){c.stopPropagation();X<y?X++:(C&&C.remove(),a[0].fadeTo(500,1,Y),C=X=null)}function Y(){g=1;h=y;k=0;a[g].fadeTo(500,1);a[h].fadeTo(500,1,Z)}function Z(){a[1].css("cursor","pointer").mouseenter(r).mouseleave(s);a[y].css("cursor","pointer").mouseenter(r).mouseleave(s); for(var b=J;b--;)a[b].show();ja&&K.mouseenter(c).mouseleave(d);ka()}function c(a){$=!0;n&&clearTimeout(n)}function d(a){$=!1;T&&(n=setTimeout(q,la))}function F(b){n&&clearTimeout(n);T=!1;k=0<e?e-1:y;h=0<k?k-1:y;G=e<y?e+1:0;g=e;a[k].unbind("click",F);a[G].unbind("click",q);a[h].css("z-index",1);a[g].css("z-index",2);ma()}function q(b){n&&clearTimeout(n);T=!1;k=e<y?e+1:0;h=e;G=0<e?e-1:y;g=k<y?k+1:0;a[k].unbind("click",q);a[G].unbind("click",F);a[h].css("z-index",2);a[g].css("z-index",1);ma()}function ma(){a[e].css("cursor", "auto").unbind("click",H);e=k;Q=!0;if(null!=v){for(;v.length;)v[0].stop().data("child").stop(),v[0].removeData("child").empty().remove(),v.shift();p=v=null}I&&(a[G].cjSwipe("off"),a[h].cjSwipe("off"),a[g].cjSwipe("off"),a[k].cjSwipe("off"));a[G].unbind("mouseenter",r).unbind("mouseleave",s).css({zIndex:0,cursor:"auto"}).animate({left:ha,top:ia,width:O,height:P},w,u);x[G].animate({width:O,height:P},w,u);a[h].css("cursor","pointer").mouseenter(r).mouseleave(s).animate({left:0,top:S,width:A,height:B}, w,u);x[h].animate({width:A,height:B,opacity:M},w,u);a[g].css("cursor","pointer").mouseenter(r).mouseleave(s).animate({left:ga,top:S,width:A,height:B},w,u);x[g].animate({width:A,height:B,opacity:M},w,u);a[k].unbind("mouseenter",r).unbind("mouseleave",s).css({zIndex:3,cursor:"auto"}).animate({left:N,top:0,width:z,height:D},w,u);x[k].stop(!0,!0).animate({width:z,height:D,opacity:1},w,u,ka)}function aa(a){a?q():F()}function ka(){I?(a[g].click(q).cjSwipe("on",aa),a[h].click(F).cjSwipe("on",aa),a[k].click(F).cjSwipe("on", aa)):(a[g].click(q),a[h].click(F));a[e].data("link")&&a[e].css("cursor","pointer").click(H);Q=!1;0!==R[e]?(p=R[e],ba=p.content.length-1,ca=p.align,v=[],l=0,da()):ea()}function ea(){!ja||Q||$||(n=setTimeout(q,la));T=!0}function da(){if(!Q){var a=p.content[l];if(0===a)l<ba?(l++,da()):ea();else{var b=m("<div />").addClass("zoom-gallery-info-text").appendTo(K),a=m("<span />").html(a).appendTo(b),c,e,d;na&&(U=parseInt(b.css("padding-left"),10)+parseInt(b.css("padding-right"),10),parseInt(b.css("padding-top"), 10),parseInt(b.css("padding-bottom"),10),na=!1);c=b.height();d=e=b.width();a.css({width:d-U,height:c});b.css(p.style[l]).css({left:"left"===ca?N+p.position[l].x:N+z-p.position[l].x-U,top:p.position[l].y,opacity:1,width:0,height:c}).data("child",a).find("a").each(function(){m(this).css(p.style[l])});v[l]=b;l<ba?(l++,c=da):c=ea;"left"===ca?b.animate({width:d},250,c):(a.css({position:"relative",left:-e}).animate({left:0},250),b.animate({left:N+z-p.position[l].x-d-U,width:d},250,c))}}}var a=[],x=[],R= [],K=m(this),u=b.easing,ra=b.linkTarget,z=b.imageWidth,D=b.imageHeight,oa=b.bannerWidth,M=b.sideOpacity,sa=b.randomizeItems,w=b.animationSpeed,la=b.autoPlayDelay,pa=b.backZoom,qa=b.sideZoom,ja=b.autoPlay,A=z*qa|0,B=D*qa|0,O=z*pa|0,P=D*pa|0,V=0.5*oa|0,W=0.5*D|0,fa=K.children("ul").children("li"),J=fa.length,T=!1,$=!1,Q=!1,na=!0,y=J-1,X=0,e=0,h,G,g,k,C,p,ba,ca,l,v,U,n,ga=oa-A,N=V-(0.5*z|0),ha=V-(0.5*O|0),S=W-(0.5*B|0),ia=W-(0.5*P|0);4>J||(E(),this.goLeft=function(){F()},this.goRight=function(){q()}, this.isReady=function(){return!Q})})}})(jQuery); (function(m){function r(b,d){Z[b](this,d)}function s(c){this.cjPageX=(c.touches?c.touches[0]:c).pageX;this.addEventListener(b,I);this.addEventListener(E,H)}function H(b){var d=this.cjNewPageX=(b.touches?b.touches[0]:b).pageX;10<Math.abs(this.cjPageX-d)&&b.preventDefault()}function I(){this.removeEventListener(E,H);this.removeEventListener(b,I);var c=this.cjNewPageX,d=this.cjPageX;30<Math.abs(d-c)&&this.cjCallback(d>c)}var b,E,L,Y="addEventListener"in window,Z={on:function(b,d){b.cjCallback=d;b.addEventListener(L, s)},off:function(c){c.removeEventListener(L,s);c.removeEventListener(E,H);c.removeEventListener(b,I);delete c.cjSwipeLeft;delete c.cjSwipeRight;delete c.cjNewPageX;delete c.cjPageX}};"ontouchend"in document?(b="touchend",E="touchmove",L="touchstart"):(b="MSPointerUp",E="MSPointerMove",L="MSPointerDown");m.fn.cjSwipe=function(b,d){if(Y)return this.each(r,[b,d])}})(jQuery);